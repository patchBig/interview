
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>浏览器渲染解析页面 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="PerformanceOptimization.html" />
    
    
    <link rel="prev" href="HandleRequest.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../CSS/">
            
                <a href="../../CSS/">
            
                    
                    CSS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../CSS/repaint_reflow_relayout_restyle.html">
            
                <a href="../../CSS/repaint_reflow_relayout_restyle.html">
            
                    
                    重绘重排
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    JS
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../HTML5/README.md">
            
                <span>
            
                    
                    HTML
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../HTML5/NewFeature.html">
            
                <a href="../../HTML5/NewFeature.html">
            
                    
                    HTML5  新特性
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../">
            
                <a href="../">
            
                    
                    Network
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../FromURLToLoad.html">
            
                <a href="../FromURLToLoad.html">
            
                    
                    从输入 URL 到页面加载发生了什么
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="DNSAnalysis.html">
            
                <a href="DNSAnalysis.html">
            
                    
                    DNS 解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="TCPLink.html">
            
                <a href="TCPLink.html">
            
                    
                    TCP 连接
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="SendRequest.html">
            
                <a href="SendRequest.html">
            
                    
                    发送 http 请求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="HandleRequest.html">
            
                <a href="HandleRequest.html">
            
                    
                    服务器处理请求并返回 HTTP 报文
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.1.5" data-path="ClientAnalyze.html">
            
                <a href="ClientAnalyze.html">
            
                    
                    浏览器渲染解析页面
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.6" data-path="PerformanceOptimization.html">
            
                <a href="PerformanceOptimization.html">
            
                    
                    前端性能优化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.6.1" data-path="CssOptimization.html">
            
                <a href="CssOptimization.html">
            
                    
                    前端性能优化-CSS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.1.7" data-path="BrowserThreadAndProcess.html">
            
                <a href="BrowserThreadAndProcess.html">
            
                    
                    浏览器线程与进程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Handwriting Code
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../Vue/README.md">
            
                <span>
            
                    
                    Vue
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../VUE/VueAnalysis.html">
            
                <a href="../../VUE/VueAnalysis.html">
            
                    
                    Vue.js 技术揭秘
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    React
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Vuex
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Redux
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Node
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Webpack
            
                </span>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >浏览器渲染解析页面</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x6D4F;&#x89C8;&#x5668;&#x89E3;&#x6790;&#x6E32;&#x67D3;&#x9875;&#x9762;">&#x6D4F;&#x89C8;&#x5668;&#x89E3;&#x6790;&#x6E32;&#x67D3;&#x9875;&#x9762;</h1>
<p>The browser parses out the HTML source code (tag soup) and constructs a DOM tree - a data representation where every HTML tag has a corresponding node in the tree and text chunks between tags get a text node representation too. The node in the DOM tree is the documentElement (the <html> tag).</html></p>
<p>The browser parses the CSS code, make sense of it given the bunch of hacks that could be there and the number of -moz, -webkit and other extensions it doesn&apos;t understand and will bravely ignore. The Styling information cascades: the basic rules are in the User Agent stylesheets(the browser defaults), then there could be user stylesheets, author(as in author of the page) stylesheets - external, imported, inline, and finally styles that are coded into the style attributes of the HTML tag</p>
<p>Then comes the interesting part - constructing a render tree. The render tree is sort of like the DOM tree, but doesn&apos;t match it exactly. The render 
tree knows about styles, so if you&apos;re hiding a div with display:none, it won&apos;t be represented in the render tree. Same for the other invisible elements, like head and everything in it. On the other hand, there might be DOM elements that are represented with more than one node in the render tree - like text nodes for example where every line in a </p><p> needs a render node. A node in the render tree in called a frame, or a box(as in a  CSS box, according to the box model). Each a these nodes has the CSS box properties - width, height, border, margin, etc</p>
<p>Once the render tree is constructed, the browser can paint (draw) the render tree nodes on the screen.</p>
<p>Let&apos;s take an example.</p>
<p>HTML source</p>
<pre><code>&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Beautiful page&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;
            Once upon a time there was a looong paragraph...
        &lt;/p&gt;
        &lt;div style=&quot;display: none&quot;&gt;
            Secret message
        &lt;/div&gt;
        &lt;div&gt;&lt;img src=&quot;...&quot; /&gt;&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>The DOM tree that represents this HTML document basically has one node for each tag and one text node for each piece of text between nodes (for simplicity let&apos;s ignore the fact that whitespace is text nodes too):</p>
<pre><code>documentElement (html)
    head
        title
    body
        p
            [text node]

        div
            [text node]

        div
            img

        ...
</code></pre><p>The render tree would be the visual part of the DOM tree. It is missing stuff - the head and the hidden div, but it has additional nodes (aka frames, aka boxes) for the lines of text.</p>
<p>The root node of the render tree is the frame (the box) that contains all other elements. You can think of it as being the inner part of the browser window , as this is the restricted area where the page could spread. Technically WebKit calls the root node RenderVIew and it corresponds to the CSS initial containing block, which id basically the viewport rectangle from the top of the page(0,0) to (window.innerWidth, window.innerHeight)</p>
<p>Figuring out what and how exactly to display on the screen involves a recursive walk down (a flow) through the render tree.</p>
<h2 id="repaint-and-reflows">Repaint and reflows</h2>
<p>there&apos;s always at least one initial page layout together with a paint ( unless, of course you prefer you pages blank :)). After that, changing the input information which was used to construct the render tree may result in one or both of these:</p>
<ol>
<li>parts of the render tree (or the whole tree) will need to be revalidated and the node dimensions recalculated. This is called a reflow, or layout, or layouting.(or &quot;relayout&quot; which I made up so I have more &quot;R&quot;s in the title, sorry,my bad).Note that there&apos;s at least one reflow - the initial layout of the page.</li>
<li>parts of the screen will need to be updated, either because of changes in geometric properties of a node or because of stylistic changes, such as changing the background color. This screen update in called a repaint, or a redraw.</li>
</ol>
<p>Repaints and reflows can be expansive, they can hurt the user experience, and make the UI appear sluggish.</p>
<h2 id="what-triggers-a-reflow-or-a-repaint">what triggers a reflow or a repaint</h2>
<p>Anything that changes input information used to construct the rendering tree can cause a repaint or reflow, for example:</p>
<ul>
<li>Adding,removing, updating DOM nodes</li>
<li>Hiding a DOM node with display: none (reflow and repaint) or visibility: hidden (repaint only,because no geometry changes)</li>
<li>Moving,animating a DOM node on the page</li>
<li>Adding a stylesheet, tweaking style properties</li>
<li>User action such as resizing the window,changing the front size, or (oh ,OMG, no!) scrolling</li>
</ul>
<p>Let&apos;s see a few example:</p>
<pre><code>```js
    var bStyle = document.body.style;   // cache
    bStyle.padding = &apos;20px&apos;;    // reflow, repaint
    bStyle.border = &apos;10px solid red&apos;    // another reflow and a  repaint
    bStyle.color = &apos;blue&apos; //repaint only, no dimensions changed
    bStyle.backgroundColor = &apos;red&apos;  // repaint
    bStyle.fontSize = &apos;2px&apos; // reflow, repaint

    document.body.appendChild(document.createTextNode(&apos;dude!&apos;))
```
</code></pre><p>Some reflows may be more expensive than others. think of render tree - if you fiddle with a node way down the tree that is a direct descendant of the body, then you&apos;re  probably not invalidating a lot of other nodes. But what about when you animate and expand a div at the top of the page which then pushes down the rest of the page - that sounds expensive.</p>
<h2 id="browsers-are-smart">Browsers are smart</h2>
<p>The browser will setup a queue of the changes your scripts require and perform them in batches. This way several changes that each require a reflow will be combined and only one reflow will be computed. Browsers can add to the queued changes and the flush the queue once a certain number of changes is reached.</p>
<ol>
<li>offsetTop, offsetLeft, offsetWidth, offsetHeight</li>
<li>scrollTop/Left/Width/Height</li>
<li>clientTop/Left/Width/Height</li>
<li>getComputedStyle(),or currentStyle in IE</li>
</ol>
<p>All of these above are essentially requesting style information about a node, and any time you do it, the browser has to give you the most up-to-date value.In order to do so, it needs to apply all scheduled changes, flush the queue, bite the bullet and do the reflow.</p>
<p>For example, its a bad idea to set and get styles in a quick succession(in a loop), like:</p>
<pre><code>```js
 // no=no!
el.style.left = el.offsetLeft + 10 + &apos;px&apos;
```
</code></pre><h2 id="minimizing-repaints-and-reflows">Minimizing repaints and reflows</h2>
<ul>
<li><p>Don&apos;t change individual styles, one by one.Best for sanity and maintainability is to change the class names not the styles.But that assumes static styles. If the styles are dynamic, edit the cssText property as opposed to touching the element and its style property for every little changes.</p>
<p>  // bad
  var left = 10,</p>
<pre><code>  top = 10;
</code></pre><p>  el.style.left = left + &quot;px&quot;;
  el.style.top  = top  + &quot;px&quot;;</p>
<p>  // better
  el.className += &quot; theclassname&quot;;</p>
<p>  // or when top and left are calculated dynamically...</p>
<p>  // better
  el.style.cssText += &quot;; left: &quot; + left + &quot;px; top: &quot; + top + &quot;px;&quot;;</p>
</li>
<li><p>Batch DOM changes and perform them &quot;offline&quot;.Offline means not in the live DOM tree. You can:</p>
<ul>
<li>use a documentFragment to hold temp changes,</li>
<li>clone the node you&apos;re about to update, work on the copy, then swap the original with the updated clone</li>
<li>hide the element with display: none (1 reflow, repaint), add 100 changes, restore the display(another reflow, repaint). This way you trade 2 reflows for potentially a hundred.</li>
</ul>
</li>
<li><p>Don&apos;t ask for computed styles excessively. If you need to work a computed value, take it once,cache to a local var and work the local copy.Revisiting the no-no example from above:</p>
<p>  // no-no!
  for(big; loop; here) {</p>
<pre><code>  el.style.left = el.offsetLeft + 10 + &quot;px&quot;;
  el.style.top  = el.offsetTop  + 10 + &quot;px&quot;;
</code></pre><p>  }</p>
<p>  // better
  var left = el.offsetLeft,</p>
<pre><code>  top  = el.offsetTop
  esty = el.style;
</code></pre><p>  for(big; loop; here) {</p>
<pre><code>  left += 10;
  top  += 10;
  esty.left = left + &quot;px&quot;;
  esty.top  = top  + &quot;px&quot;;
</code></pre><p>  }</p>
</li>
<li><p>In general, think about the render and how much of it will need revalidation after your change. For example using absolute positioning makes that element a child of the body in the render tree, so it won&apos;t affect too many other nodes when you animate it for example.Some of the other nodes may be in the area that needs repainting when you place you element on top of them, but they will not require reflow.</p>
</li>
</ul>
<p>JS &#x7684;&#x89E3;&#x6790;&#x662F;&#x7531;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x7684; JS &#x89E3;&#x6790;&#x5F15;&#x64CE;&#x5B8C;&#x6210;&#x7684;&#x3002;JS &#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x5185;&#x53EA;&#x80FD;&#x505A;&#x4E00;&#x4EF6;&#x4E8B;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x4EFB;&#x52A1;&#x90FD;&#x9700;&#x8981;&#x6392;&#x961F;&#xFF0C;&#x524D;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x7ED3;&#x675F;&#x5417;&#xFF0C;&#x540E;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x624D;&#x80FD;&#x5F00;&#x59CB;&#x3002;&#x4F46;&#x662F;&#x53C8;&#x5B58;&#x5728;&#x67D0;&#x4E9B;&#x4EFB;&#x52A1;&#x6BD4;&#x8F83;&#x8017;&#x65F6;&#xFF0C;&#x5982; IO &#x8BFB;&#x5199;&#x7B49;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x4E00;&#x79CD;&#x673A;&#x5236;&#x53EF;&#x4EE5;&#x5148;&#x6267;&#x884C;&#x6392;&#x5728;&#x540E;&#x9762;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#xFF1A;&#x540C;&#x6B65;&#x4EFB;&#x52A1;&#x548C;&#x5F02;&#x6B65;&#x4EFB;&#x52A1;&#x3002;JS &#x7684;&#x6267;&#x884C;&#x673A;&#x5236;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x505A;&#x662F;&#x4E00;&#x4E2A;&#x4E3B;&#x7EBF;&#x7A0B;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#xFF08;task queue&#xFF09;&#x3002;&#x540C;&#x6B65;&#x4EFB;&#x52A1;&#x5C31;&#x662F;&#x653E;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E0A;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x5F02;&#x6B65;&#x4EFB;&#x52A1;&#x5C31;&#x662F;&#x653E;&#x5728;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x6240;&#x6709;&#x7684;&#x540C;&#x6B65;&#x4EFB;&#x52A1;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E0A;&#x6267;&#x884C;&#xFF0C;&#x5F62;&#x6210;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x6808;&#xFF1B;&#x5F02;&#x6B65;&#x4EFB;&#x52A1;&#x6709;&#x4E86;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x5C31;&#x4F1A;&#x5728;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x4E2D;&#x653E;&#x7F6E;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF1B;&#x811A;&#x672C;&#x8FD0;&#x884C;&#x65F6;&#x5148;&#x4F9D;&#x6B21;&#x6267;&#x884C;&#x6808;&#xFF0C;&#x7136;&#x540E;&#x4F1A;&#x4ECE;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x91CC;&#x63D0;&#x53D6;&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD0;&#x884C;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x662F;&#x4E0D;&#x65AD;&#x91CD;&#x590D;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x53C8;&#x53EB;&#x505A;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF08;Event loop&#xFF09;&#x3002;</p>
<p>&#x6D4F;&#x89C8;&#x5668;&#x5728;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x9047;&#x5230;&#x8BF7;&#x6C42;&#x5916;&#x90E8;&#x8D44;&#x6E90;&#x65F6;&#xFF0C;&#x5982;&#x56FE;&#x50CF;&#xFF0C;iconfont, JS &#x7B49;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x91CD;&#x590D;&#x8FC7;&#x7A0B;&#x4E0B;&#x8F7D;&#x8D44;&#x6E90;&#xFF0C;&#x8BF7;&#x6C42;&#x8FC7;&#x7A0B;&#x662F;&#x5F02;&#x6B65;&#x7684;&#xFF0C;&#x5E76;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD; HTML &#x6587;&#x6863;&#x8FDB;&#x884C;&#x52A0;&#x8F7D;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x6587;&#x6863;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x4E2D;&#x9047;&#x5230; JS &#x6587;&#x4EF6;&#xFF0C;HTML &#x6587;&#x6863;&#x4F1A;&#x6302;&#x8D77;&#x6E32;&#x67D3;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x4EC5;&#x8981;&#x7B49;&#x5230;&#x6587;&#x6863;&#x4E2D; JS &#x6587;&#x4EF6;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x8FD8;&#x8981;&#x7B49;&#x5F85;&#x89E3;&#x6790;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#xFF0C;&#x624D;&#x4F1A;&#x7EE7;&#x7EED; HTML &#x7684;&#x6E32;&#x67D3;&#x8FC7;&#x7A0B;&#x3002;&#x539F;&#x56E0;&#x662F;&#x56E0;&#x4E3A; JS &#x6709;&#x53EF;&#x80FD;&#x4FEE;&#x6539; DOM &#x7ED3;&#x6784;&#xFF0C;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x7740; JS &#x6267;&#x884C;&#x5B8C;&#x6210;&#x524D;&#xFF0C;&#x540E;&#x7EED;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x7684;&#x4E0B;&#x8F7D;&#x662F;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x662F; JS &#x963B;&#x585E;&#x540E;&#x7EED;&#x8D44;&#x6E90;&#x4E0B;&#x8F7D;&#x7684;&#x6839;&#x672C;&#x539F;&#x56E0;&#x3002;CSS &#x6587;&#x4EF6;&#x7684;&#x52A0;&#x8F7D;&#x4E0D;&#x5F71;&#x54CD; JS &#x6587;&#x4EF6;&#x7684;&#x52A0;&#x8F7D;&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x5F71;&#x54CD; JS &#x6587;&#x4EF6;&#x7684;&#x6267;&#x884C;&#xFF0C;JS &#x4EE3;&#x7801;&#x6267;&#x884C;&#x524D;&#x6D4F;&#x89C8;&#x5668;&#x5FC5;&#x987B;&#x4FDD;&#x8BC1; CSS &#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x4E0B;&#x8F7D;&#x5E76;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x3002;</p>
<h3 id="&#x7CFB;&#x7EDF;&#x7ED3;&#x6784;">&#x7CFB;&#x7EDF;&#x7ED3;&#x6784;</h3>
<h4 id="&#x8FDB;&#x7A0B;">&#x8FDB;&#x7A0B;</h4>
<p>blink &#x548C; webkit &#x5F15;&#x64CE;&#x5185;&#x90E8;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x4E86;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#x6765;&#x5B9E;&#x73B0; JS &#x6267;&#x884C;&#x3001;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x4E4B;&#x7C7B;&#x7684;&#x6838;&#x5FC3;&#x4EFB;&#x52A1;&#x3002;</p>
<ul>
<li>Renderer &#x8FDB;&#x7A0B;
  &#x4E3B;&#x8981;&#x7684;&#x90A3;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x6BCF;&#x4E2A; tab &#x4E00;&#x4E2A;&#x3002;&#x8D1F;&#x8D23;&#x6267;&#x884C; JS &#x548C;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x3002;&#x5305;&#x542B;&#x4E09;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF1A;Compositor Thread&#x3001;tile Worker&#x3001;Main thread</li>
<li>GPU &#x8FDB;&#x7A0B;
  &#x6574;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x5171;&#x7528;&#x4E00;&#x4E2A;&#x3002;&#x4E3B;&#x8981;&#x662F;&#x8D1F;&#x8D23;&#x5427; Renderer &#x8FDB;&#x7A0B;&#x4E2D;&#x7ED8;&#x5236;&#x597D;&#x7684; tile &#x4F4D;&#x56FE;&#x4F5C;&#x4E3A;&#x7EB9;&#x7406;&#x4E0A;&#x4F20;&#x81F3; GPU&#xFF0C;&#x5E76;&#x8C03;&#x7528; GPU &#x7684;&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#x628A;&#x7EB9;&#x7406; draw &#x5230;&#x5C4F;&#x5E55;&#x4E0A;&#xFF08;&#x4E00;&#x822C;&#x7684;&#x4ECB;&#x7ECD;&#x6D4F;&#x89C8;&#x5668;&#x6E32;&#x67D3;&#x5F15;&#x64CE;&#x7684;&#x6587;&#x7AE0;&#x91CC;&#x90FD;&#x7528; Paint &#x8FD9;&#x4E2A;&#x8BCD;&#x8868;&#x8FF0;&#x628A;&#x5185;&#x5BB9;&#x5149;&#x6805;&#x5316;&#x548C;&#x7ED8;&#x5236;&#x5230;&#x4F4D;&#x56FE;&#x91CC;&#xFF0C;&#x800C;&#x7528; draw &#x8FD9;&#x4E2A;&#x8BCD;&#x8868;&#x793A; GPU &#x6700;&#x7EC8;&#x5427;&#x7EB9;&#x7406;&#x663E;&#x793A;&#x5230;&#x5C4F;&#x5E55;&#x4E0A;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A; GPU &#x91CC;&#x7684;&#x8FDB;&#x7A0B;&#x66F4;&#x5E94;&#x8BE5;&#x6210;&#x4E3A;&#x201C;&#x8D1F;&#x8D23;&#x8DDF; GPU &#x6253;&#x4EA4;&#x9053;&#x7684;&#x8FDB;&#x7A0B;&#x201D;&#xFF0C;GPU &#x8FDB;&#x7A0B;&#x91CC;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF1A;GPU thread&#x3002;</li>
</ul>
<h5 id="renderer-&#x8FDB;&#x7A0B;&#x7684;&#x4E09;&#x4E2A;&#x7EBF;&#x7A0B;">Renderer &#x8FDB;&#x7A0B;&#x7684;&#x4E09;&#x4E2A;&#x7EBF;&#x7A0B;</h5>
<ul>
<li><p>compositor thread
  &#x8FD9;&#x4E2A;&#x7EBF;&#x7A0B;&#x65E2;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x6D4F;&#x89C8;&#x5668;&#x4F20;&#x6765;&#x7684;&#x5782;&#x76F4;&#x540C;&#x6B65;&#x4FE1;&#x53F7;&#xFF08;Vsync&#xFF0C;&#x6C34;&#x5E73;&#x540C;&#x6B65;&#x8868;&#x793A;&#x753B;&#x51FA;&#x4E00;&#x884C;&#x5C4F;&#x5E55;&#x7EBF;&#xFF0C;&#x5782;&#x76F4;&#x540C;&#x6B65;&#x5C31;&#x8868;&#x793A;&#x4ECE;&#x5C4F;&#x5E55;&#x9876;&#x90E8;&#x5230;&#x5E95;&#x90E8;&#x7684;&#x7ED8;&#x5236;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF0C;&#x6307;&#x793A;&#x7740;&#x524D;&#x4E00;&#x5E27;&#x7684;&#x7ED3;&#x675F;&#x548C;&#x65B0;&#x4E00;&#x5E27;&#x7684;&#x5F00;&#x59CB;&#xFF09;&#xFF0C;&#x4E5F;&#x8D1F;&#x8D23;&#x63A5;&#x53E3; OS &#x4F20;&#x6765;&#x7684;&#x7528;&#x6237;&#x4EA4;&#x4E92;&#xFF0C;&#x6BD4;&#x5982;&#x6EDA;&#x52A8;&#xFF0C;&#x8F93;&#x5165;&#xFF0C;&#x70B9;&#x51FB;&#xFF0C;&#x9F20;&#x6807;&#x79FB;&#x52A8;&#x7B49;&#x7B49;&#x3002;
  &#x5982;&#x679C;&#x53EF;&#x80FD;&#xFF0C;compositor thread &#x4F1A;&#x76F4;&#x63A5;&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x8F93;&#x5165;&#xFF0C;&#x7136;&#x540E;&#x8F6C;&#x6362;&#x4E3A;&#x5BF9; layer &#x7684;&#x4F4D;&#x79FB;&#x548C;&#x5904;&#x7406;&#xFF0C;&#x5E76;&#x5C06;&#x65B0;&#x7684;&#x5E27;&#x76F4;&#x63A5; commit &#x5230; GPU thread,&#x4ECE;&#x800C;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x65B0;&#x7684;&#x9875;&#x9762;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x6BD4;&#x5982;&#x4F60;&#x5728;&#x6EDA;&#x52A8;&#xFF0C;&#x8F93;&#x5165;&#x4E8B;&#x4EF6;&#x7B49;&#x7B49;&#x4E0A;&#x6CE8;&#x518C;&#x7684;&#x56DE;&#x8C03;&#xFF0C;&#x6216;&#x8005;&#x9875;&#x9762;&#x4E2D;&#x6709;&#x52A8;&#x753B;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x65F6;&#x5019; Compositor thread &#x4FBF;&#x4F1A;&#x5524;&#x9192; Main thread&#xFF0C;&#x8BA9;&#x540E;&#x8005;&#x53BB;&#x6267;&#x884C; JS&#xFF0C;&#x5B8C;&#x6210;&#x91CD;&#x7ED8;&#xFF0C;&#x91CD;&#x6392;&#x7B49;&#x8FC7;&#x7A0B;&#xFF0C;&#x4EA7;&#x51FA;&#x65B0;&#x7684;&#x7EB9;&#x7406;&#xFF0C;&#x7136;&#x540E; compositor thread &#x518D;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x7EB9;&#x7406;&#x7684; commit &#x81F3; GPU thread&#xFF0C;&#x5B8C;&#x6210;&#x8F93;&#x51FA;&#x3002;</p>
</li>
<li><p>Main Thread
  chrome devtools &#x7684; Timeline &#x91CC; Main &#x90A3;&#x4E00;&#x680F;&#x663E;&#x793A;&#x7684;&#x5185;&#x5BB9;&#x5C31;&#x662F; Main Thread &#x5B8C;&#x6210;&#x7684;&#x76F8;&#x5173;&#x4EFB;&#x52A1;&#xFF1A;&#x67D0;&#x6BB5; JS &#x7684;&#x6267;&#x884C;&#xFF0C;Recalculate Style&#x3001;Update Layer Tree&#x3001;Paint&#x3001;Compositor Layers &#x7B49;&#x7B49;&#x3002;</p>
</li>
<li><p>Compositor Tile Worker(s)
  &#x53EF;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x6BD4;&#x5982; PC &#x7AEF;&#x7684; Chrome &#x662F; 2 &#x4E2A;&#x6216; 4 &#x4E2A;&#xFF0C;Android &#x548C; Safari &#x4E3A; 1 &#x4E2A;&#x6216; 2 &#x4E2A;&#x4E0D;&#x7B49;&#x3002;&#x662F;&#x7531; Compositor Thread &#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x4E13;&#x95E8;&#x7528;&#x6765;&#x5904;&#x7406; tile &#x7684; Rasterization</p>
</li>
</ul>
<p>Compositor thread &#x63A7;&#x5236;&#x540E;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x3002;&#x7528;&#x6237;&#x8F93;&#x5165;&#x662F;&#x76F4;&#x63A5;&#x8FDB;&#x5165; Compositor thread&#xFF0C;&#x4E00;&#x65B9;&#x9762;&#x5728;&#x90A3;&#x4E9B;&#x4E0D;&#x9700;&#x8981;&#x6267;&#x884C; JS &#x6216;&#x8005;&#x6CA1;&#x6709; CSS &#x52A8;&#x753B;&#x3001;&#x4E0D;&#x91CD;&#x7ED8;&#x7B49;&#x7684;&#x573A;&#x666F;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5BF9;&#x7528;&#x6237;&#x8F93;&#x5165;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x548C;&#x54CD;&#x5E94;&#xFF0C;&#x800C; Main Thread &#x662F;&#x6709;&#x5F88;&#x590D;&#x6742;&#x7684;&#x4EFB;&#x52A1;&#x6D41;&#x7A0B;&#x3002;&#x8FD9;&#x4F7F;&#x5F97;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x54CD;&#x5E94;&#x7528;&#x6237;&#x7684;&#x6EDA;&#x52A8;&#x3001;&#x6253;&#x5B57;&#x7B49;&#x7B49;&#x8F93;&#x5165;&#xFF0C;&#x5B8C;&#x5168;&#x4E0D;&#x7528;&#x8FDB;&#x4E3B;&#x7EBF;&#x7A0B;&#x3002;
&#x518D;&#x8005;&#x5373;&#x4F7F;&#x6CE8;&#x518C;&#x4E86; UI &#x4EA4;&#x4E92;&#x7684;&#x56DE;&#x8C03;&#xFF0C;&#x8FDB;&#x5165;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF0C;&#x6216;&#x8005;&#x4E3B;&#x7EBF;&#x7A0B;&#x5F88;&#x5361;&#xFF0C;&#x4F46;&#x662F;&#x56E0;&#x4E3A; Compositor Thread &#x5728;&#x5904;&#x7406;&#xFF0C;&#x6240;&#x4EE5; Compositor Thread &#x4F9D;&#x7136;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8D1F;&#x8D23;&#x5C06;&#x4E0B;&#x4E00;&#x5E27;&#x8F93;&#x51FA;&#x5230;&#x9875;&#x9762;&#x4E0A;&#xFF0C;&#x56E0;&#x6B64;&#x5373;&#x4F7F;&#x4E3B;&#x7EBF;&#x7A0B;&#x53EF;&#x80FD;&#x6267;&#x884C;&#x7740;&#x9AD8;&#x8017;&#x4EFB;&#x52A1;&#xFF0C;&#x8D85;&#x8FC7; 16 ms&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x9875;&#x9762;&#x6EDA;&#x52A8;&#x65F6;&#x6D4F;&#x89C8;&#x5668;&#x8FD8;&#x662F;&#x80FD;&#x591F;&#x505A;&#x51FA;&#x54CD;&#x5E94;&#xFF0C;&#x6240;&#x4EE5;&#x5047;&#x5982;&#x6709;&#x4E00;&#x4E2A;&#x5361;&#x7684;&#x52A8;&#x753B;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x6EDA;&#x52A8;&#x9875;&#x9762;&#x8FD8;&#x662F;&#x5F88;&#x6D41;&#x7545;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x52A8;&#x753B;&#x5361;&#x6EDA;&#x52A8;&#x4E0D;&#x5361;&#x3002;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="HandleRequest.html" class="navigation navigation-prev " aria-label="Previous page: 服务器处理请求并返回 HTTP 报文">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="PerformanceOptimization.html" class="navigation navigation-next " aria-label="Next page: 前端性能优化">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"浏览器渲染解析页面","level":"1.5.1.5","depth":3,"next":{"title":"前端性能优化","level":"1.5.1.6","depth":3,"path":"Network/FromURLToLoad/PerformanceOptimization.md","ref":"Network/FromURLToLoad/PerformanceOptimization.md","articles":[{"title":"前端性能优化-CSS","level":"1.5.1.6.1","depth":4,"path":"Network/FromURLToLoad/CssOptimization.md","ref":"Network/FromURLToLoad/CssOptimization.md","articles":[]}]},"previous":{"title":"服务器处理请求并返回 HTTP 报文","level":"1.5.1.4","depth":3,"path":"Network/FromURLToLoad/HandleRequest.md","ref":"Network/FromURLToLoad/HandleRequest.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Network/FromURLToLoad/ClientAnalyze.md","mtime":"2019-11-10T08:35:57.463Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-11-10T08:37:34.659Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

