# DNS 解析

DNS 解析的过程就是一个网址到 IP 地址的转换。

## 解析过程

DNS 解析是一个递归查询的过程。

首先在本地域名服务器中查询 IP 地址。没有找到的情况下，本地域名服务器回向根域名服务器发送一个请求；如果没有找到的话，会向 com 顶级域名服务器发送一个请求，以此类推下去。知道最后本地域名服务器得到 google 的地址并把它缓存到本地，以供下次查询使用。

网址的解析是一个从右到左的过程：. -> com -> google.com -> www.google.com

## DNS 优化

### DNS 缓存

从离浏览器的具体排序的话，有以下几种，**浏览器缓存**，**系统缓存**，**路由器缓存**，**IPS 服务器缓存**，**根域名服务器缓存**，**顶级域名服务器缓存**，**主域名服务器缓存**。

### DNS 均衡负载

利用 DNS 的重定向技术，DNS 服务器会返回一个跟用户最接近的点的 IP 地址给用户，CDN 节点服务器负责响应用户的请求，提供所需的内容。DNS 可以返回一个合适的机器的 IP 给用户，例如根据每台机器的负载量，改机器离用户地理位置的距离等等。

